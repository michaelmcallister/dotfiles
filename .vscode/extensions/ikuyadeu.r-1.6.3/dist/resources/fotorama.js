/*! For license information please see fotorama.js.LICENSE.txt */
fotoramaVersion="4.6.4",function(t,e,n,o,i){"use strict";function a(){}function r(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function s(t){var e={};return Rt?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function u(t){return{"transition-duration":t+"ms"}}function l(t,e){return isNaN(t)?e:t}function c(t,e){return l(+String(t).replace(e||"px",""))}function f(t,e){return l(function(t){return/%$/.test(t)?c(t,"%"):i}(t)/100*e,c(t))}function d(t){return(!isNaN(c(t))||!isNaN(c(t,"%")))&&t}function h(t,e,n,o){return(t-(o||0))*(e+(n||0))}function m(t,e){if(t.length){var n=t.data();Rt?(t.css(u(0)),n.onEndFn=a,clearTimeout(n.tT)):t.stop();var o=p(e,(function(){return function(t){return Rt?+function(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}(t.css("transform")):+t.css("left").replace("px","")}(t)}));return t.css(s(o)),o}}function p(){for(var t,e=0,n=arguments.length;n>e&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function v(t,e){return Math.round(t+(e-t)/1.5)}function w(){return w.p=w.p||("https:"===n.protocol?"https://":"http://"),w.p}function g(t){var n=e.createElement("a");return n.href=t,n}function y(t,e){if("string"!=typeof t)return t;var n,o;if((t=g(t)).host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var i=n.indexOf("&");-1!==i&&(n=n.substring(0,i)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&o||!e||(n=t.href,o="custom"),!!n&&{id:n,type:o,s:t.search.replace(/^\?/,""),p:w()}}function b(t,e,n){var i,a,r=t.video;return"youtube"===r.type?(i=(a=w()+"img.youtube.com/vi/"+r.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?o.ajax({url:w()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(o){t.thumbsReady=!0,x(e,{img:o[0].thumbnail_large,thumb:o[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:i,thumb:a}}function x(t,e,n,i){for(var a=0,r=t.length;r>a;a++){var s=t[a];if(s.i===n&&s.thumbsReady){var u={videoReady:!0};u[Gt]=u[Zt]=u[Jt]=!1,i.splice(a,1,o.extend({},s,u,e));break}}}function _(t){return!o.contains(e.documentElement,t)}function C(t,e,n,o){return C.i||(C.i=1,C.ii=[!0]),o=o||C.i,void 0===C.ii[o]&&(C.ii[o]=!0),t()?e():C.ii[o]&&setTimeout((function(){C.ii[o]&&C(t,e,n,o)}),n||100),C.i++}function T(t){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+t)}function k(t,e,n,o){var i=t.data(),a=i.measures;if(a&&(!i.l||i.l.W!==a.width||i.l.H!==a.height||i.l.r!==a.ratio||i.l.w!==e.w||i.l.h!==e.h||i.l.m!==n||i.l.p!==o)){var s=a.width,u=a.height,l=e.w/e.h,c=a.ratio>=l,h="scaledown"===n,m="contain"===n,p="cover"===n,v=function(t){return{x:d((t=(t+"").split(/\s+/))[0])||ne,y:d(t[1])||ne}}(o);c&&(h||m)||!c&&p?u=(s=r(e.w,0,h?s:1/0))/a.ratio:(c&&p||!c&&(h||m))&&(s=(u=r(e.h,0,h?u:1/0))*a.ratio),t.css({width:s,height:u,left:f(v.x,e.w-s),top:f(v.y,e.h-u)}),i.l={W:a.width,H:a.height,r:a.ratio,w:e.w,h:e.h,m:n,p:o}}return!0}function M(t,e,n){return e!==n&&(e>=t?"left":t>=n?"right":"left right")}function S(t,e,n,o){if(!n)return!1;if(!isNaN(t))return t-(o?0:1);for(var i,a=0,r=e.length;r>a;a++)if(e[a].id===t){i=a;break}return i}function F(t,e,n){n=n||{},t.each((function(){var t,i=o(this),r=i.data();r.clickOn||(r.clickOn=!0,o.extend(K(i,{onStart:function(e){t=e,(n.onStart||a).call(this,e)},onMove:n.onMove||a,onTouchEnd:n.onTouchEnd||a,onEnd:function(n){n.moved||e.call(this,t)}}),{noMove:!0}))}))}function E(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function P(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function j(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,(function(t){return o.extend({},t)}))}function N(t,e,n){t.scrollLeft(e||0).scrollTop(n||0)}function $(t){if(t){var e={};return o.each(t,(function(t,n){e[t.toLowerCase()]=n})),e}}function q(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||i:e}}function A(t,e,n,o){e&&(t.addEventListener?t.addEventListener(e,n,!!o):t.attachEvent("on"+e,n))}function z(t){return{tabindex:-1*t+"",disabled:t}}function L(t,e){A(t,"keyup",(function(n){(function(t){return!!t.getAttribute("disabled")})(t)||13==n.keyCode&&e.call(t,n)}))}function O(t,e){A(t,"focus",t.onfocusin=function(n){e.call(t,n)},!0)}function I(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function D(t){return t?">":"<"}function R(t,e){var n=t.data(),i=Math.round(e.pos),r=function(){n.sliding=!1,(e.onEnd||a)()};void 0!==e.overPos&&e.overPos!==e.pos&&(i=e.overPos,r=function(){R(t,o.extend({},e,{overPos:e.pos,time:Math.max(Ut,e.time/2)}))});var l=o.extend(s(i),e.width&&{width:e.width});n.sliding=!0,Rt?(t.css(o.extend(u(e.time),l)),e.time>10?function(t,e,n,o){var i,a=t.data();a&&(a.onEndFn=function(){i||(i=!0,clearTimeout(a.tT),n())},a.tProp=e,clearTimeout(a.tT),a.tT=setTimeout((function(){a.onEndFn()}),1.5*o),function(t){var e=t.data();e.tEnd||(A(t[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[Ct.prefixed("transition")],(function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()})),e.tEnd=!0)}(t))}(t,"transform",r,e.time):r()):t.stop().animate(l,e.time,ee,r)}function W(t,e,n,i,r,s){var u=void 0!==s;if(u||(r.push(arguments),Array.prototype.push.call(arguments,r.length),!(r.length>1))){t=t||o(t),e=e||o(e);var l=t[0],c=e[0],f="crossfade"===i.method,d=function(){if(!d.done){d.done=!0;var t=(u||r.shift())&&r.shift();t&&W.apply(this,t),(i.onEnd||a)(!!t)}},h=i.time/(s||1);n.removeClass(dt+" "+ft),t.stop().addClass(dt),e.stop().addClass(ft),f&&c&&t.fadeTo(0,0),t.fadeTo(f?h:0,1,f&&d),e.fadeTo(h,0,d),l&&f||c||d()}}function H(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=o.now()}function K(t,n){function i(t){return f=o(t.target),y.checked=m=p=w=!1,l||y.flow||t.touches&&t.touches.length>1||t.which>1||$t&&$t.type!==t.type&&At||(m=n.select&&f.is(n.select,g))?m:(h="touchstart"===t.type,p=f.is("a, a *",g),d=y.control,v=y.noMove||y.noSwipe||d?16:y.snap?0:4,H(t),c=$t=t,qt=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||a).call(g,t,{control:d,$target:f}),l=y.flow=!0,void((!h||y.go)&&I(t)))}function r(t){if(t.touches&&t.touches.length>1||Bt&&!t.isPrimary||qt!==t.type||!l)return l&&s(),void(n.onTouchEnd||a)();H(t);var e=Math.abs(t._x-c._x),o=Math.abs(t._y-c._y),i=e-o,r=(y.go||y.x||i>=0)&&!y.noSwipe,u=0>i;h&&!y.checked?(l=r)&&I(t):(I(t),(n.onMove||a).call(g,t,{touch:h})),!w&&Math.sqrt(Math.pow(e,2)+Math.pow(o,2))>v&&(w=!0),y.checked=y.checked||r||u}function s(t){(n.onTouchEnd||a)();var e=l;y.control=l=!1,e&&(y.flow=!1),!e||p&&!y.checked||(t&&I(t),At=!0,clearTimeout(zt),zt=setTimeout((function(){At=!1}),1e3),(n.onEnd||a).call(g,{moved:w,$target:f,control:d,touch:h,startEvent:c,aborted:!t||"MSPointerCancel"===t.type}))}function u(){y.flow&&setTimeout((function(){y.flow=!1}),Qt)}var l,c,f,d,h,m,p,v,w,g=t[0],y={};return Bt?(A(g,"MSPointerDown",i),A(e,"MSPointerMove",r),A(e,"MSPointerCancel",s),A(e,"MSPointerUp",s)):(A(g,"touchstart",i),A(g,"touchmove",r),A(g,"touchend",s),A(e,"touchstart",(function(){y.flow||setTimeout((function(){y.flow=!0}),10)})),A(e,"touchend",u),A(e,"touchcancel",u),Lt.on("scroll",u),t.on("mousedown",i),Ot.on("mousemove",r).on("mouseup",s)),t.on("click","a",(function(t){y.checked&&I(t)})),y}function V(t,e){function n(n,o){_=!0,i=u=n._x,h=n._now,d=[[h,i]],l=c=k.noMove||o?0:m(t,(e.getPos||a)()),(e.onStart||a).call(C,n)}var i,u,l,c,f,d,h,p,w,g,y,b,x,_,C=t[0],T=t.data(),k={};return k=o.extend(K(e.$wrap,o.extend({},e,{onStart:function(t,e){w=k.min,g=k.max,y=k.snap,b=t.altKey,_=x=!1,e.control||T.sliding||n(t)},onMove:function(o,r){k.noSwipe||(_||n(o),u=o._x,d.push([o._now,u]),f=M(c=l-(i-u),w,g),w>=c?c=v(c,w):c>=g&&(c=v(c,g)),k.noMove||(t.css(s(c)),x||(x=!0,r.touch||Bt||t.addClass(yt)),(e.onMove||a).call(C,o,{pos:c,edge:f})))},onEnd:function(i){if(!k.noSwipe||!i.moved){_||n(i.startEvent,!0),i.touch||Bt||t.removeClass(yt);for(var s,f,h,m,v,x,T,M,S,F=(p=o.now())-Qt,E=null,P=Ut,j=e.friction,N=d.length-1;N>=0;N--){if(s=d[N][0],f=Math.abs(s-F),null===E||h>f)E=s,m=d[N][1];else if(E===F||f>h)break;h=f}T=r(c,w,g);var $=m-u,q=$>=0,A=p-E,z=A>Qt,L=!z&&c!==l&&T===c;y&&(T=r(Math[L?q?"floor":"ceil":"round"](c/y)*y,w,g),w=g=T),L&&(y||T===c)&&(S=-$/A,P*=r(Math.abs(S),e.timeLow,e.timeHigh),v=Math.round(c+S*P/j),y||(T=v),(!q&&v>g||q&&w>v)&&(x=q?w:g,y||(T=x),M=r(T+.03*(M=v-x),x-50,x+50),P=Math.abs((c-M)/(S/j)))),P*=b?10:1,(e.onEnd||a).call(C,o.extend(i,{moved:i.moved||z&&y,pos:c,newPos:T,overPos:M,time:P}))}}})),k)}function B(t,e){var n,i,r,s=t[0],u={prevent:{}};return A(s,Xt,(function(t){var s=t.wheelDeltaY||-1*t.deltaY||0,l=t.wheelDeltaX||-1*t.deltaX||0,c=Math.abs(l)&&!Math.abs(s),f=D(0>l),d=i===f,h=o.now(),m=Qt>h-r;i=f,r=h,c&&u.ok&&(!u.prevent[f]||n)&&(I(t,!0),n&&d&&m||(e.shift&&(n=!0,clearTimeout(u.t),u.t=setTimeout((function(){n=!1}),Yt)),(e.onEnd||a)(t,e.shift?f:l)))})),u}function X(){o.each(o.Fotorama.instances,(function(t,e){e.index=t}))}function Q(t){o.Fotorama.instances.push(t),X()}function U(t){o.Fotorama.instances.splice(t.index,1),X()}var Y="fotorama",G="fullscreen",J=Y+"__wrap",Z=J+"--video",tt=J+"--no-controls",et=J+"--only-active",nt=Y+"__stage",ot=Y+"__grab",it=Y+"__arr",at=it+"--disabled",rt=Y+"__nav",st=rt+"--dots",ut=rt+"--thumbs",lt=rt+"__frame",ct=Y+"__fade",ft=ct+"-front",dt=ct+"-rear",ht=Y+"__active",mt=Y+"__select",pt=Y+"--fullscreen",vt=Y+"__error",wt=Y+"__loading",gt=Y+"__loaded",yt=Y+"__grabbing",bt="fotorama__video-play",xt='" tabindex="0" role="button',_t=o&&o.fn.jquery.split(".");if(!_t||_t[0]<1||1==_t[0]&&_t[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var Ct=function(t,e,n){function o(t,e){return typeof t===e}function i(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var o in t){var a=t[o];if(!i(a,"-")&&m[a]!==n)return"pfx"!=e||a}return!1}function r(t,e,i){for(var a in t){var r=e[t[a]];if(r!==n)return!1===i?t[a]:o(r,"function")?r.bind(i||e):r}return!1}function s(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+w.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?a(s,e):r(s=(t+" "+g.join(i+" ")+i).split(" "),e,n)}var u,l,c={},f=e.documentElement,d="modernizr",h=e.createElement(d),m=h.style,p=" -webkit- -moz- -o- -ms- ".split(" "),v="Webkit Moz O ms",w=v.split(" "),g=v.toLowerCase().split(" "),y={},b=[],x=b.slice,_={}.hasOwnProperty;for(var C in l=o(_,"undefined")||o(_.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return _.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=x.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=e.prototype;var a=new i,r=e.apply(a,n.concat(x.call(arguments)));return Object(r)===r?r:a}return e.apply(t,n.concat(x.call(arguments)))};return o}),y.csstransforms3d=function(){return!!s("perspective")},y)l(y,C)&&(u=C.toLowerCase(),c[u]=y[C](),b.push((c[u]?"":"no-")+u));return c.addTest=function(t,e){if("object"==typeof t)for(var o in t)l(t,o)&&c.addTest(o,t[o]);else{if(t=t.toLowerCase(),c[t]!==n)return c;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(e?"":"no-")+t),c[t]=e}return c},m.cssText="",h=null,c._version="2.6.2",c._prefixes=p,c._domPrefixes=g,c._cssomPrefixes=w,c.testProp=function(t){return a([t])},c.testAllProps=s,c.testStyles=function(t,n,o,i){var a,r,s,u,l=e.createElement("div"),c=e.body,h=c||e.createElement("body");if(parseInt(o,10))for(;o--;)(s=e.createElement("div")).id=i?i[o]:d+(o+1),l.appendChild(s);return a=["&#173;",'<style id="s',d,'">',t,"</style>"].join(""),l.id=d,(c?l:h).innerHTML+=a,h.appendChild(l),c||(h.style.background="",h.style.overflow="hidden",u=f.style.overflow,f.style.overflow="hidden",f.appendChild(h)),r=n(l,t),c?l.parentNode.removeChild(l):(h.parentNode.removeChild(h),f.style.overflow=u),!!r},c.prefixed=function(t,e,n){return e?s(t,e,n):s(t,"pfx")},c}(0,e),Tt={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},kt="webkit moz o ms khtml".split(" ");if(void 0!==e.cancelFullScreen)Tt.ok=!0;else for(var Mt=0,St=kt.length;St>Mt;Mt++)if(Tt.prefix=kt[Mt],void 0!==e[Tt.prefix+"CancelFullScreen"]){Tt.ok=!0;break}Tt.ok&&(Tt.event=Tt.prefix+"fullscreenchange",Tt.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},Tt.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},Tt.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var Ft,Et={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Pt={top:"auto",left:"auto",className:""};!function(t,e){Ft=e()}(0,(function(){function t(t,n){var o,i=e.createElement(t||"div");for(o in n)i[o]=n[o];return i}function n(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function o(t,e,n,o){var i=["opacity",e,~~(100*t),n,o].join("-"),a=.01+n/o*100,r=Math.max(1-(1-t)/e*(100-a),t),s=f.substring(0,f.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return h[i]||(m.insertRule("@"+u+"keyframes "+i+"{0%{opacity:"+r+"}"+a+"%{opacity:"+t+"}"+(a+.01)+"%{opacity:1}"+(a+e)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",m.cssRules.length),h[i]=1),i}function a(t,e){var n,o,a=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<d.length;o++)if(a[n=d[o]+e]!==i)return n;return a[e]!==i?e:void 0}function r(t,e){for(var n in e)t.style[a(t,n)||n]=e[n];return t}function s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===i&&(t[o]=n[o])}return t}function u(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function l(t,e){return"string"==typeof t?t:t[e%t.length]}function c(t){return void 0===this?new c(t):void(this.opts=s(t||{},c.defaults,p))}var f,d=["webkit","Moz","ms","O"],h={},m=function(){var o=t("style",{type:"text/css"});return n(e.getElementsByTagName("head")[0],o),o.sheet||o.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};c.defaults={},s(c.prototype,{spin:function(e){this.stop();var n,o,i=this,a=i.opts,s=i.el=r(t(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),l=a.radius+a.length+a.width;if(e&&(e.insertBefore(s,e.firstChild||null),o=u(e),n=u(s),r(s,{left:("auto"==a.left?o.x-n.x+(e.offsetWidth>>1):parseInt(a.left,10)+l)+"px",top:("auto"==a.top?o.y-n.y+(e.offsetHeight>>1):parseInt(a.top,10)+l)+"px"})),s.setAttribute("role","progressbar"),i.lines(s,i.opts),!f){var c,d=0,h=(a.lines-1)*(1-a.direction)/2,m=a.fps,p=m/a.speed,v=(1-a.opacity)/(p*a.trail/100),w=p/a.lines;!function t(){d++;for(var e=0;e<a.lines;e++)c=Math.max(1-(d+(a.lines-e)*w)%p*v,a.opacity),i.opacity(s,e*a.direction+h,c,a);i.timeout=i.el&&setTimeout(t,~~(1e3/m))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(e,i){function a(e,n){return r(t(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*u+i.rotate)+"deg) translate("+i.radius+"px,0)",borderRadius:(i.corners*i.width>>1)+"px"})}for(var s,u=0,c=(i.lines-1)*(1-i.direction)/2;u<i.lines;u++)s=r(t(),{position:"absolute",top:1+~(i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:f&&o(i.opacity,i.trail,c+u*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&n(s,r(a("#000","0 0 4px #000"),{top:"2px"})),n(e,n(s,a(l(i.color,u),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var v=r(t("group"),{behavior:"url(#default#VML)"});return!a(v,"transform")&&v.adj?function(){function e(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}m.addRule(".spin-vml","behavior:url(#default#VML)"),c.prototype.lines=function(t,o){function i(){return r(e("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function a(t,a,s){n(d,n(r(i(),{rotation:360/o.lines*t+"deg",left:~~a}),n(r(e("roundrect",{arcsize:o.corners}),{width:u,height:o.width,left:o.radius,top:-o.width>>1,filter:s}),e("fill",{color:l(o.color,t),opacity:o.opacity}),e("stroke",{opacity:0}))))}var s,u=o.length+o.width,c=2*u,f=2*-(o.width+o.length)+"px",d=r(i(),{position:"absolute",top:f,left:f});if(o.shadow)for(s=1;s<=o.lines;s++)a(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=o.lines;s++)a(s);return n(t,d)},c.prototype.opacity=function(t,e,n,o){var i=t.firstChild;o=o.shadow&&o.lines||0,i&&e+o<i.childNodes.length&&(i=(i=(i=i.childNodes[e+o])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}}():f=a(v,"animation"),c}));var jt,Nt,$t,qt,At,zt,Lt=o(t),Ot=o(e),It="quirks"===n.hash.replace("#",""),Dt=Ct.csstransforms3d,Rt=Dt&&!It,Wt=Dt||"CSS1Compat"===e.compatMode,Ht=Tt.ok,Kt=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Vt=!Rt||Kt,Bt=navigator.msPointerEnabled,Xt="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==i?"mousewheel":"DOMMouseScroll",Qt=250,Ut=300,Yt=1400,Gt="$stageFrame",Jt="$navDotFrame",Zt="$navThumbFrame",te="auto",ee=function(t){var e="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[e]){var n=function(t,e){var n=[null,null],o=[null,null],i=[null,null],a=function(a,r){return i[r]=3*t[r],o[r]=3*(e[r]-t[r])-i[r],n[r]=1-i[r]-o[r],a*(i[r]+a*(o[r]+a*n[r]))},r=function(t){return i[0]+t*(2*o[0]+3*n[0]*t)};return function(t){return a(function(t){for(var e,n=t,o=0;++o<14&&(e=a(n,0)-t,!(Math.abs(e)<.001));)n-=e/r(n);return n}(t),1)}};o.easing[e]=function(e,o,i,a,r){return a*n([t[0],t[1]],[t[2],t[3]])(o/r)+i}}return e}([.1,0,.25,1]),ne="50%",oe={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:ne,thumbposition:ne,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:64,thumbheight:64,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Ut,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},ie={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};C.stop=function(t){C.ii[t]=!1},jQuery.Fotorama=function(t,i){function a(t){return Ze[t]||fn.fullScreen}function l(e){e!==l.f&&(e?(t.html("").addClass(Y+" "+hn).append(yn).before(wn).before(gn),Q(fn)):(yn.detach(),wn.detach(),gn.detach(),t.html(vn.urtext).removeClass(hn),U(fn)),function(t){var e="keydown."+Y,n=Y+dn,o="keydown."+n,r="resize."+n+" orientationchange."+n;t?(Ot.on(o,(function(t){var e,n;Pe&&27===t.keyCode?(e=!0,pe(Pe,!0,!0)):(fn.fullScreen||i.keyboard&&!fn.index)&&(27===t.keyCode?(e=!0,fn.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&a("space")||37===t.keyCode&&a("left")||38===t.keyCode&&a("up")?n="<":32===t.keyCode&&a("space")||39===t.keyCode&&a("right")||40===t.keyCode&&a("down")?n=">":36===t.keyCode&&a("home")?n="<<":35===t.keyCode&&a("end")&&(n=">>")),(e||n)&&I(t),n&&fn.show({index:n,slow:t.altKey,user:!0})})),fn.index||Ot.off(e).on(e,"textarea, input, select",(function(t){!Nt.hasClass(G)&&t.stopPropagation()})),Lt.on(r,fn.resize)):(Ot.off(o),Lt.off(r))}(e),l.f=e)}function v(){Me=fn.data=Me||j(i.data)||function(t){function e(t,e,n){var i=n.thumb&&n.img!==n.thumb,a=c(n.width||t.attr("width")),r=c(n.height||t.attr("height"));o.extend(n,{width:a,height:r,thumbratio:q(n.thumbratio||c(n.thumbwidth||e&&e.attr("width")||i||a)/c(n.thumbheight||e&&e.attr("height")||i||r))})}var n=[];return t.children().each((function(){var t=o(this),i=$(o.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))!function(t,n,i){var a=t.children("img").eq(0),r=t.attr("href"),s=t.attr("src"),u=a.attr("src"),l=n.video,c=y(r,!0===l);c?r=!1:c=l,e(t,a,o.extend(n,{video:c,img:n.img||r||s||u,thumb:n.thumb||u||s||r}))}(t,i);else{if(t.is(":empty"))return;e(t,null,o.extend(i,{html:this,_html:t.html()}))}n.push(i)})),n}(t),Se=fn.size=Me.length,!ke.ok&&i.shuffle&&P(Me),o.each(Me,(function(t,e){if(!e.i){e.i=pn++;var n=y(e.video,!0);if(n){var o={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:o=b(e,Me,fn),x(Me,{img:o.img,thumb:o.thumb},e.i,fn)}}})),Ln=K(Ln),Se&&l(!0)}function w(){var t=2>Se&&!i.enableifsingleframe||Pe;In.noMove=t||Be,In.noSwipe=t||!i.swipe,!Ye&&xn.toggleClass(ot,!i.click&&!In.noMove&&!In.noSwipe),Bt&&yn.toggleClass("fotorama__wrap--pan-y",!In.noSwipe)}function g(t){!0===t&&(t=""),i.autoplay=Math.max(+t||5e3,1.5*Ue)}function H(t){return 0>t?(Se+t%Se)%Se:t>=Se?t%Se:t}function K(t){return r(t,0,Se-1)}function X(t){return De?H(t):K(t)}function ct(t){return!!(t>0||De)&&t-1}function ft(t){return!!(Se-1>t||De)&&t+1}function dt(t,e,n){if("number"==typeof t){t=new Array(t);var i=!0}return o.each(t,(function(t,o){if(i&&(o=t),"number"==typeof o){var a=Me[H(o)];if(a){var r="$"+e+"Frame",s=a[r];n.call(this,t,o,a,s,r,s&&s.data())}}}))}function yt(t,e,n,o){(!tn||"*"===tn&&o===Ie)&&(t=d(i.width)||d(t)||500,e=d(i.height)||d(e)||333,fn.resize({width:t,ratio:i.ratio||n||t/e},0,o!==Ie&&"*"))}function _t(t,e,n,a,r,s){dt(t,e,(function(t,u,l,c,f,d){function h(t){var e=H(u);ue(t,{index:e,src:x,frame:Me[e]})}function m(){g.remove(),o.Fotorama.cache[x]="error",l.html&&"stage"===e||!_||_===x?(!x||l.html||v?"stage"===e&&(c.trigger("f:load").removeClass(wt+" "+vt).addClass(gt),h("load"),yt()):(c.trigger("f:error").removeClass(wt).addClass(vt),h("error")),d.state="error",!(Se>1&&Me[u]===l)||l.html||l.deleted||l.video||v||(l.deleted=!0,fn.splice(u,1))):(l[b]=x=_,_t([u],e,n,a,r,!0))}function p(){var t=10;C((function(){return!un||!t--&&!Vt}),(function(){o.Fotorama.measures[x]=y.measures=o.Fotorama.measures[x]||{width:w.width,height:w.height,ratio:w.width/w.height},yt(y.measures.width,y.measures.height,y.measures.ratio,u),g.off("load error").addClass("fotorama__img"+(v?" fotorama__img--full":"")).prependTo(c),k(g,(o.isFunction(n)?n():n)||On,a||l.fit||i.fit,r||l.position||i.position),o.Fotorama.cache[x]=d.state="loaded",setTimeout((function(){c.trigger("f:load").removeClass(wt+" "+vt).addClass(gt+" "+(v?"fotorama__loaded--full":"fotorama__loaded--img")),"stage"===e?h("load"):(l.thumbratio===te||!l.thumbratio&&i.thumbratio===te)&&(l.thumbratio=y.measures.ratio,Ce())}),0)}))}if(c){var v=fn.fullScreen&&l.full&&l.full!==l.img&&!d.$full&&"stage"===e;if(!d.$img||s||v){var w=new Image,g=o(w),y=g.data();d[v?"$full":"$img"]=g;var b="stage"===e?v?"full":"img":"thumb",x=l[b],_=v?null:l["stage"===e?"thumb":"img"];if("navThumb"===e&&(c=d.$wrap),!x)return void m();o.Fotorama.cache[x]?function t(){"error"===o.Fotorama.cache[x]?m():"loaded"===o.Fotorama.cache[x]?setTimeout(p,0):setTimeout(t,100)}():(o.Fotorama.cache[x]="*",g.on("load",p).on("error",m)),d.state="",w.src=x}}}))}function Ct(){zn.detach(),Ee&&Ee.stop()}function kt(){var t=je[Gt];t&&!t.data().state&&(function(t){zn.append(Ee.spin().el).appendTo(t)}(t),t.on("f:load f:error",(function(){t.off("f:load f:error"),Ct()})))}function Mt(t){L(t,be),O(t,(function(){setTimeout((function(){N(Sn)}),0),ne({time:Ue,guessIndex:o(this).data().eq,minMax:Rn})}))}function St(t,e){dt(t,e,(function(t,n,i,a,r,s){if(!a){a=i[r]=yn[r].clone(),(s=a.data()).data=i;var u=a[0];"stage"===e?(i.html&&o('<div class="fotorama__html"></div>').append(i._html?o(i.html).removeAttr("id").html(i._html):i.html).appendTo(a),i.caption&&o(E("fotorama__caption",E("fotorama__caption__wrap",i.caption))).appendTo(a),i.video&&a.addClass("fotorama__stage__frame--video").append(qn.clone()),O(u,(function(){setTimeout((function(){N(bn)}),0),ge({index:s.eq,user:!0})})),_n=_n.add(a)):"navDot"===e?(Mt(u),En=En.add(a)):"navThumb"===e&&(Mt(u),s.$wrap=a.children(":first"),Pn=Pn.add(a),i.video&&s.$wrap.append(qn.clone()))}}))}function $t(t,e,n,o){return t&&t.length&&k(t,e,n,o)}function qt(t){dt(t,"stage",(function(t,e,n,a,r,s){if(a){var l=H(e),c=n.fit||i.fit,f=n.position||i.position;s.eq=l,Kn[Gt][l]=a.css(o.extend({left:Be?0:h(e,On.w,i.margin,$e)},Be&&u(0))),_(a[0])&&(a.appendTo(xn),pe(n.$video)),$t(s.$img,On,c,f),$t(s.$full,On,c,f)}}))}function At(t,e){if("thumbs"===Re&&!isNaN(t)){var n=-t,a=-t+On.nw;Pn.each((function(){var t=o(this).data(),r=t.eq,s=function(){return{h:Qe,w:t.w}},u=s(),l=Me[r]||{},c=l.thumbfit||i.thumbfit,f=l.thumbposition||i.thumbposition;u.w=t.w,t.l+t.w<n||t.l>a||$t(t.$img,u,c,f)||e&&_t([r],"navThumb",s,c,f)}))}}function zt(t,e,n){if(!zt[n]){var a="nav"===n&&We,r=0;e.append(t.filter((function(){for(var t,e=o(this),n=e.data(),i=0,a=Me.length;a>i;i++)if(n.data===Me[i]){t=!0,n.eq=i;break}return t||e.remove()&&!1})).sort((function(t,e){return o(t).data().eq-o(e).data().eq})).each((function(){if(a){var t=o(this),e=t.data(),n=Math.round(Qe*e.data.thumbratio)||Xe;e.l=r,e.w=n,t.css({width:n}),r+=n+i.thumbmargin}}))),zt[n]=!0}}function It(t){return t-Vn>On.w/3}function Dt(t){return!(De||Ln+t&&Ln-Se+t||Pe)}function Kt(){var t=Dt(0),e=Dt(1);Cn.toggleClass(at,t).attr(z(t)),Tn.toggleClass(at,e).attr(z(e))}function Xt(){Dn.ok&&(Dn.prevent={"<":Dt(0),">":Dt(1)})}function Yt(t){var e,n,o=t.data();return We?(e=o.l,n=o.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*i.thumbmargin,max:-e+On.w-n-10*i.thumbmargin}}function ee(t){var e=je[cn].data();R(jn,{time:1.2*t,pos:e.l,width:e.w-2*i.thumbborderwidth})}function ne(t){var e=Me[t.guessIndex][cn];if(e){var n=Rn.min!==Rn.max,o=t.minMax||n&&Yt(je[cn]),i=n&&(t.keep&&ne.l?ne.l:r((t.coo||On.nw/2)-Yt(e).c,o.min,o.max)),a=n&&r(i,Rn.min,Rn.max),s=1.1*t.time;R(Fn,{time:s,pos:a||0,onEnd:function(){At(a,!0)}}),me(Sn,M(a,Rn.min,Rn.max)),ne.l=i}}function oe(t){for(var e=Hn[t];e.length;)e.shift().removeClass(ht)}function ae(t){var e=Kn[t];o.each(Ne,(function(t,n){delete e[H(n)]})),o.each(e,(function(t,n){delete e[t],n.detach()}))}function re(t){$e=qe=Ln;var e=je[Gt];e&&(oe(Gt),Hn[Gt].push(e.addClass(ht)),t||fn.show.onEnd(!0),m(xn,0),ae(Gt),qt(Ne),In.min=De?-1/0:-h(Se-1,On.w,i.margin,$e),In.max=De?1/0:-h(0,On.w,i.margin,$e),In.snap=On.w+i.margin,Rn.min=Math.min(0,On.nw-Fn.width()),Rn.max=0,Fn.toggleClass(ot,!(Rn.noMove=Rn.min===Rn.max)))}function se(t,e){t&&o.each(e,(function(e,n){n&&o.extend(n,{width:t.width||n.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:q(t.ratio)})}))}function ue(e,n){t.trigger(Y+":"+e,[fn,n])}function le(){clearTimeout(ce.t),un=1,i.stopautoplayontouch?fn.stopAutoplay():an=!0}function ce(){un&&(i.stopautoplayontouch||(fe(),de()),ce.t=setTimeout((function(){un=0}),Ut+Qt))}function fe(){an=!(!Pe&&!rn)}function de(){if(clearTimeout(de.t),C.stop(de.w),i.autoplay&&!an){fn.autoplay||(fn.autoplay=!0,ue("startautoplay"));var t=Ln,e=je[Gt].data();de.w=C((function(){return e.state||t!==Ln}),(function(){de.t=setTimeout((function(){if(!an&&t===Ln){var e=Oe,n=Me[e][Gt].data();de.w=C((function(){return n.state||e!==Oe}),(function(){an||e!==Oe||fn.show(De?D(!Je):Oe)}))}}),i.autoplay)}))}else fn.autoplay&&(fn.autoplay=!1,ue("stopautoplay"))}function he(){fn.fullScreen&&(fn.fullScreen=!1,Ht&&Tt.cancel(mn),Nt.removeClass(G),jt.removeClass(G),t.removeClass(pt).insertAfter(gn),On=o.extend({},sn),pe(Pe,!0,!0),ye("x",!1),fn.resize(),_t(Ne,"stage"),N(Lt,nn,en),ue("fullscreenexit"))}function me(t,e){Ge&&(t.removeClass("fotorama__shadows--left fotorama__shadows--right"),e&&!Pe&&t.addClass(e.replace(/^|\s/g," fotorama__shadows--")))}function pe(t,e,n){e&&(yn.removeClass(Z),Pe=!1,w()),t&&t!==Pe&&(t.remove(),ue("unloadvideo")),n&&(fe(),de())}function ve(t){yn.toggleClass(tt,t)}function we(t){if(!In.flow){var e=t?t.pageX:we.x,n=e&&!Dt(It(e))&&i.click;we.p!==n&&bn.toggleClass("fotorama__pointer",n)&&(we.p=n,we.x=e)}}function ge(t){clearTimeout(ge.t),i.clicktransition&&i.clicktransition!==i.transition?setTimeout((function(){var e=i.transition;fn.setOptions({transition:i.clicktransition}),Ye=e,ge.t=setTimeout((function(){fn.show(t)}),10)}),0):fn.show(t)}function ye(t,e){In[t]=Rn[t]=e}function be(t){ge({index:o(this).data().eq,slow:t.altKey,user:!0,coo:t._x-Sn.offset().left})}function xe(t){ge({index:kn.index(this)?">":"<",slow:t.altKey,user:!0})}function _e(t){O(t,(function(){setTimeout((function(){N(bn)}),0),ve(!1)}))}function Ce(){if(v(),function(){function t(t,n){e[t?"add":"remove"].push(n)}fn.options=i=$(i),Be="crossfade"===i.transition||"dissolve"===i.transition,De=i.loop&&(Se>2||Be&&(!Ye||"slide"!==Ye)),Ue=+i.transitionduration||Ut,Je="rtl"===i.direction,Ze=o.extend({},i.keyboard&&ie,i.keyboard);var e={add:[],remove:[]};Se>1||i.enableifsingleframe?(Re=i.nav,He="top"===i.navposition,e.remove.push(mt),kn.toggle(!!i.arrows)):(Re=!1,kn.hide()),Ct(),Ee=new Ft(o.extend(Et,i.spinner,Pt,{direction:Je?-1:1})),Kt(),Xt(),i.autoplay&&g(i.autoplay),Xe=c(i.thumbwidth)||64,Qe=c(i.thumbheight)||64,Dn.ok=Wn.ok=i.trackpad&&!Vt,w(),se(i,[On]),(We="thumbs"===Re)?(St(Se,"navThumb"),Fe=Pn,cn=Zt,function(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}(wn,o.Fotorama.jst.style({w:Xe,h:Qe,b:i.thumbborderwidth,m:i.thumbmargin,s:dn,q:!Wt})),Sn.addClass(ut).removeClass(st)):"dots"===Re?(St(Se,"navDot"),Fe=En,cn=Jt,Sn.addClass(st).removeClass(ut)):(Re=!1,Sn.removeClass(ut+" "+st)),Re&&(He?Mn.insertBefore(bn):Mn.insertAfter(bn),zt.nav=!1,zt(Fe,Fn,"nav")),(Ke=i.allowfullscreen)?(Nn.prependTo(bn),Ve=Ht&&"native"===Ke):(Nn.detach(),Ve=!1),t(Be,"fotorama__wrap--fade"),t(!Be,"fotorama__wrap--slide"),t(!i.captions,"fotorama__wrap--no-captions"),t(Je,"fotorama__wrap--rtl"),t("always"!==i.arrows,"fotorama__wrap--toggle-arrows"),t(!(Ge=i.shadows&&!Vt),"fotorama__wrap--no-shadows"),yn.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),o.extend({},i)}(),!Ce.i){Ce.i=!0;var t=i.startindex;(t||i.hash&&n.hash)&&(Ie=S(t||n.hash.replace(/^#/,""),Me,0===fn.index||t,t)),Ln=$e=qe=Ae=Ie=X(Ie)||0}if(Se){if(Te())return;Pe&&pe(Pe,!0),Ne=[],ae(Gt),Ce.ok=!0,fn.show({index:Ln,time:0}),fn.resize()}else fn.destroy()}function Te(){return!Te.f===Je?(Te.f=Je,Ln=Se-1-Ln,fn.reverse(),!0):void 0}function ke(){ke.ok||(ke.ok=!0,ue("ready"))}jt=o("html"),Nt=o("body");var Me,Se,Fe,Ee,Pe,je,Ne,$e,qe,Ae,ze,Le,Oe,Ie,De,Re,We,He,Ke,Ve,Be,Xe,Qe,Ue,Ye,Ge,Je,Ze,tn,en,nn,on,an,rn,sn,un,ln,cn,fn=this,dn=o.now(),hn=Y+dn,mn=t[0],pn=1,vn=t.data(),wn=o("<style></style>"),gn=o(E("fotorama--hidden")),yn=o(E(J)),bn=o(E(nt)).appendTo(yn),xn=(bn[0],o(E("fotorama__stage__shaft")).appendTo(bn)),_n=o(),Cn=o(E(it+" fotorama__arr--prev"+xt)),Tn=o(E(it+" fotorama__arr--next"+xt)),kn=Cn.add(Tn).appendTo(bn),Mn=o(E("fotorama__nav-wrap")),Sn=o(E(rt)).appendTo(Mn),Fn=o(E("fotorama__nav__shaft")).appendTo(Sn),En=o(),Pn=o(),jn=(xn.data(),Fn.data(),o(E("fotorama__thumb-border")).appendTo(Fn)),Nn=o(E("fotorama__fullscreen-icon"+xt)),$n=Nn[0],qn=o(E(bt)),An=o(E("fotorama__video-close")).appendTo(bn)[0],zn=o(E("fotorama__spinner")),Ln=!1,On={},In={},Dn={},Rn={},Wn={},Hn={},Kn={},Vn=0,Bn=[];yn[Gt]=o(E("fotorama__stage__frame")),yn[Zt]=o(E(lt+" fotorama__nav__frame--thumb"+xt,E("fotorama__thumb"))),yn[Jt]=o(E(lt+" fotorama__nav__frame--dot"+xt,E("fotorama__dot"))),Hn[Gt]=[],Hn[Zt]=[],Hn[Jt]=[],Kn[Gt]={},yn.addClass(Rt?"fotorama__wrap--css3":"fotorama__wrap--css2").toggleClass(tt,!i.controlsonstart),vn.fotorama=this,fn.startAutoplay=function(t){return fn.autoplay||(an=rn=!1,g(t||i.autoplay),de()),this},fn.stopAutoplay=function(){return fn.autoplay&&(an=rn=!0,de()),this},fn.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?qe+1:"<"===e?qe-1:"<<"===e?0:">>"===e?Se-1:e,e=void 0===(e=isNaN(e)?S(e,Me,!0):e)?Ln||0:e,fn.activeIndex=Ln=X(e),ze=ct(Ln),Le=ft(Ln),Oe=H(Ln+(Je?-1:1)),Ne=[Ln,ze,Le],qe=De?e:Ln;var n=Math.abs(Ae-qe),o=p(t.time,(function(){return Math.min(Ue*(1+(n-1)/12),2*Ue)})),a=t.overPos;t.slow&&(o*=10);var s=je;fn.activeFrame=je=Me[Ln];var u=s===je&&!t.user;pe(Pe,je.i!==Me[H($e)].i),St(Ne,"stage"),qt(Vt?[qe]:[qe,ct(qe),ft(qe)]),ye("go",!0),u||ue("show",{user:t.user,time:o}),an=!0;var l=fn.show.onEnd=function(e){if(!l.ok){if(l.ok=!0,e||re(!0),u||ue("showend",{user:t.user}),!e&&Ye&&Ye!==i.transition)return fn.setOptions({transition:Ye}),void(Ye=!1);kt(),_t(Ne,"stage"),ye("go",!1),Xt(),we(),fe(),de()}};if(Be?W(je[Gt],Ln!==Ae?Me[Ae][Gt]:null,_n,{time:o,method:i.transition,onEnd:l},Bn):R(xn,{pos:-h(qe,On.w,i.margin,$e),overPos:a,time:o,onEnd:l}),Kt(),Re){oe(cn),Hn[cn].push(je[cn].addClass(ht));var c=K(Ln+r(qe-Ae,-1,1));ne({time:o,coo:c!==Ln&&t.coo,guessIndex:void 0!==t.coo?c:Ln,keep:u}),We&&ee(o)}return on=void 0!==Ae&&Ae!==Ln,Ae=Ln,i.hash&&on&&!fn.eq&&T(je.id||Ln+1),this},fn.requestFullScreen=function(){return Ke&&!fn.fullScreen&&(en=Lt.scrollTop(),nn=Lt.scrollLeft(),N(Lt),ye("x",!0),sn=o.extend({},On),t.addClass(pt).appendTo(Nt.addClass(G)),jt.addClass(G),pe(Pe,!0,!0),fn.fullScreen=!0,Ve&&Tt.request(mn),fn.resize(),_t(Ne,"stage"),kt(),ue("fullscreenenter")),this},fn.cancelFullScreen=function(){return Ve&&Tt.is()?Tt.cancel(e):he(),this},fn.toggleFullScreen=function(){return fn[(fn.fullScreen?"cancel":"request")+"FullScreen"]()},A(e,Tt.event,(function(){!Me||Tt.is()||Pe||he()})),fn.resize=function(t){if(!Me)return this;var e=arguments[1]||0,n=arguments[2];se(fn.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:$(t),[On,n||fn.fullScreen||i]);var o=On.width,a=On.height,s=On.ratio,u=Lt.height()-(Re?Sn.height():0);return d(o)&&(yn.addClass(et).css({width:o,minWidth:On.minwidth||0,maxWidth:On.maxwidth||99999}),o=On.W=On.w=yn.width(),On.nw=Re&&f(i.navwidth,o)||o,i.glimpse&&(On.w-=Math.round(2*(f(i.glimpse,o)||0))),xn.css({width:On.w,marginLeft:(On.W-On.w)/2}),(a=(a=f(a,u))||s&&o/s)&&(o=Math.round(o),a=On.h=Math.round(r(a,f(On.minheight,u),f(On.maxheight,u))),bn.stop().animate({width:o,height:a},e,(function(){yn.removeClass(et)})),re(),Re&&(Sn.stop().animate({width:On.nw},e),ne({guessIndex:Ln,time:e,keep:!0}),We&&zt.nav&&ee(e)),tn=n||!0,ke())),Vn=bn.offset().left,this},fn.setOptions=function(t){return o.extend(i,t),Ce(),this},fn.shuffle=function(){return Me&&P(Me)&&Ce(),this},fn.destroy=function(){return fn.cancelFullScreen(),fn.stopAutoplay(),Me=fn.data=null,l(),Ne=[],ae(Gt),Ce.ok=!1,this},fn.playVideo=function(){var t=je,e=t.video,n=Ln;return"object"==typeof e&&t.videoReady&&(Ve&&fn.fullScreen&&fn.cancelFullScreen(),C((function(){return!Tt.is()||n!==Ln}),(function(){n===Ln&&(t.$video=t.$video||o(o.Fotorama.jst.video(e)),t.$video.appendTo(t[Gt]),yn.addClass(Z),Pe=t.$video,w(),kn.blur(),Nn.blur(),ue("loadvideo"))}))),this},fn.stopVideo=function(){return pe(Pe,!0,!0),this},bn.on("mousemove",we),In=V(xn,{onStart:le,onMove:function(t,e){me(bn,e.edge)},onTouchEnd:ce,onEnd:function(t){me(bn);var e=(Bt&&!ln||t.touch)&&i.arrows&&"always"!==i.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var n=function(t,e,n,o){return-Math.round(t/(e+(n||0))-(o||0))}(t.newPos,On.w,i.margin,$e);fn.show({index:n,time:Be?Ue:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||function(t,e){var n=t.target;o(n).hasClass(bt)?fn.playVideo():n===$n?fn.toggleFullScreen():Pe?n===An&&pe(Pe,!0,!0):e?ve():i.click&&ge({index:t.shiftKey||D(It(t._x)),slow:t.altKey,user:!0})}(t.startEvent,e)},timeLow:1,timeHigh:1,friction:2,select:"."+mt+", ."+mt+" *",$wrap:bn}),Rn=V(Fn,{onStart:le,onMove:function(t,e){me(Sn,e.edge)},onTouchEnd:ce,onEnd:function(t){function e(){ne.l=t.newPos,fe(),de(),At(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(an=!0,R(Fn,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),At(t.newPos),Ge&&me(Sn,M(t.newPos,Rn.min,Rn.max))):e();else{var n=t.$target.closest("."+lt,Fn)[0];n&&be.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Sn}),Dn=B(bn,{shift:!0,onEnd:function(t,e){le(),ce(),fn.show({index:e,slow:t.altKey})}}),Wn=B(Sn,{onEnd:function(t,e){le(),ce();var n=m(Fn)+.25*e;Fn.css(s(r(n,Rn.min,Rn.max))),Ge&&me(Sn,M(n,Rn.min,Rn.max)),Wn.prevent={"<":n>=Rn.max,">":n<=Rn.min},clearTimeout(Wn.t),Wn.t=setTimeout((function(){ne.l=n,At(n,!0)}),Qt),At(n)}}),yn.hover((function(){setTimeout((function(){un||ve(!(ln=!0))}),0)}),(function(){ln&&ve(!(ln=!1))})),F(kn,(function(t){I(t),xe.call(this,t)}),{onStart:function(){le(),In.control=!0},onTouchEnd:ce}),kn.each((function(){L(this,(function(t){xe.call(this,t)})),_e(this)})),L($n,fn.toggleFullScreen),_e($n),o.each("load push pop shift unshift reverse sort splice".split(" "),(function(t,e){fn[e]=function(){return Me=Me||[],"load"!==e?Array.prototype[e].apply(Me,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Me=j(arguments[0])),Ce(),fn}})),Ce()},o.fn.fotorama=function(e){return this.each((function(){var n=this,i=o(this),a=i.data(),r=a.fotorama;r?r.setOptions(e,!0):C((function(){return!function(t){return 0===t.offsetWidth&&0===t.offsetHeight}(n)}),(function(){a.urtext=i.html(),new o.Fotorama(i,o.extend({},oe,t.fotoramaDefaults,e,a))}))}))},o.Fotorama.instances=[],o.Fotorama.cache={},o.Fotorama.measures={},(o=o||{}).Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.style=function(t){var e;return".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},o.Fotorama.jst.video=function(t){var e="",n=Array.prototype.join;return e+='<div class="fotorama__video"><iframe src="',function(){e+=n.call(arguments,"")}(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),e+'" frameborder="0" allowfullscreen></iframe></div>\n'},o((function(){o("."+Y+':not([data-auto="false"])').fotorama()}))}(window,document,location,"undefined"!=typeof jQuery&&jQuery);